openapi: 3.1.0
info:
  version: 1.0.0
  title: Screenlog
  contact:
    name: Bálint Kozák
    email: kozak.balint15@gmail.com
  description: |
    This is the api documentation for the Screenlog project.
tags:
  - name: API Health
    description: Health specific endpoints.
  - name: User
    description: User specific endpoints.
  - name: Search
    description: Serach enpoints, that are used to search for movies, TV shows, people in the TMDb database.
  - name: Movie Details
    description: Movie details enpoints, that are used to get details about a specific movie from the TMDb database.
  - name: TV Show Details
    description: TV show details enpoints, that are used to get details about a specific TV show from the TMDb database.
  - name: Person Details
    description: Person details enpoints, that are used to get details about a specific person from the TMDb database.
  - name: Cast
    description: Cast enpoints, that are used to get the cast of a specific movie or tv show from the TMDb database.
  - name: Watch Providers
    description: Watch providers enpoints, that are used to get the watch providers of a specific movie or tv show from the TMDb database.
  - name: Watchlist
    description: Watchlist enpoints, that are used to manage the watchlist of the current user.
  - name: Watched
    description: Watched enpoints, that are used to manage the watched list of the current user.
servers:
  - url: "http://localhost:6969/v1"
    description: Local server
paths:
  "/healthcheck":
    get:
      tags:
        - API Health
      summary: Health check endpoint
      description: |
        This endpoint is used to check the health of the server.
      operationId: HealthcheckHandler
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HealthCheck"
        "500":
          description: Internal server error

  "/users/me":
    get:
      tags:
        - User
      summary: Get the current user
      description: |
        This endpoint is used to get the current user.
      operationId: GetCurrentUserHandler
      security:
        - main_auth: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/users/register":
    post:
      tags:
        - User
      summary: Create a new user
      description: |
        This endpoint is used to create a new user.
      operationId: CreateUserHandler
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateUser"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "422":
          description: Failed validation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/users/login":
    post:
      tags:
        - User
      summary: Authenticate a user
      description: |
        This endpoint is used to authenticate a user.
      operationId: CreateAuthenticationTokenHandler
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthenticateUser"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthenticationToken"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "422":
          description: Failed validation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/users/logout":
    get:
      tags:
        - User
      summary: Logout the current user
      description: |
        This endpoint is used to logout the current user.
      operationId: InvalidateAuthenticationTokenHandler
      security:
        - main_auth: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Logout"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/search/movies":
    get:
      tags:
        - Search
      summary: Search for movies
      description: |
        This endpoint is used to search for movies in the TMDb database.
      operationId: SearchMoviesHandler
      security:
        - main_auth: []
      parameters:
        - name: q
          in: query
          required: true
          description: The search query
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SearchMoviesResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/search/tv":
    get:
      tags:
        - Search
      summary: Search for TV shows
      description: |
        This endpoint is used to search for TV shows in the TMDb database.
      operationId: SearchTvHandler
      security:
        - main_auth: []
      parameters:
        - name: q
          in: query
          required: true
          description: The search query
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SearchTVResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/search/people":
    get:
      tags:
        - Search
      summary: Search for people
      description: |
        This endpoint is used to search for people in the TMDb database.
      operationId: SearchPeopleHandler
      security:
        - main_auth: []
      parameters:
        - name: q
          in: query
          required: true
          description: The search query
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SearchPeopleResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/movies/{id}":
    get:
      tags:
        - Movie Details
      summary: Get movie details
      description: |
        This endpoint is used to get details about a specific movie from the TMDb database.
      operationId: GetMovieDetailsHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MovieDetailsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/tv/{id}":
    get:
      tags:
        - TV Show Details
      summary: Get TV show details
      description: |
        This endpoint is used to get details about a specific TV show from the TMDb database.
      operationId: GetTvDetailsHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TvDetailsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/tv/{id}/season/{season_number}":
    get:
      tags:
        - TV Show Details
      summary: Get TV show season details
      description: |
        This endpoint is used to get details about a specific season of a TV show from the TMDb database.
      operationId: GetTvSeasonDetailsHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
        - name: season_number
          in: path
          required: true
          description: The season number
          schema:
            type: integer
            format: int64
            examples:
              - 1
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TvSeasonDetailsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/tv/{id}/season/{season_number}/episode/{episode_number}":
    get:
      tags:
        - TV Show Details
      summary: Get TV show episode details
      description: |
        This endpoint is used to get details about a specific episode of a TV show from the TMDb database.
      operationId: GetTvEpisodeDetailsHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
        - name: season_number
          in: path
          required: true
          description: The season number
          schema:
            type: integer
            format: int64
            examples:
              - 1
        - name: episode_number
          in: path
          required: true
          description: The episode number
          schema:
            type: integer
            format: int64
            examples:
              - 1
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TvEpisodeDetailsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/people/{id}":
    get:
      tags:
        - Person Details
      summary: Get person details
      description: |
        This endpoint is used to get details about a specific person from the TMDb database.
      operationId: GetPersonDetailsHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The person id
          schema:
            type: integer
            format: int64
            examples:
              - 115440
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PersonDetailsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/cast/movies/{id}":
    get:
      tags:
        - Cast
      summary: Get movie cast
      description: |
        This endpoint is used to get the cast of a specific movie from the TMDb database.
      operationId: GetCastMoviesHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CastMoviesResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/cast/tv/{id}":
    get:
      tags:
        - Cast
      summary: Get TV show cast
      description: |
        This endpoint is used to get the cast of a specific TV show from the TMDb database.
      operationId: GetCastTvHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CastTvResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watchproviders/movies/{id}":
    get:
      tags:
        - Watch Providers
      summary: Get movie watch providers
      description: |
        This endpoint is used to get the watch providers of a specific movie from the TMDb database.
      operationId: GetMovieWatchProvidersHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WatchProvidersResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watchproviders/tv/{id}":
    get:
      tags:
        - Watch Providers
      summary: Get TV show watch providers
      description: |
        This endpoint is used to get the watch providers of a specific TV show from the TMDb database.
      operationId: GetTvWatchProvidersHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WatchProvidersResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watchlist":
    get:
      tags:
        - Watchlist
      summary: Get the watchlist
      description: |
        This endpoint is used to get the watchlist of the current user.
      operationId: GetWatchlistHandler
      security:
        - main_auth: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WatchlistResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watchlist/movies/{id}":
    get:
      tags:
        - Watchlist
      summary: Check if a movie is in the watchlist
      description: |
        This endpoint is used to check if a movie is in the watchlist of the current user.
      operationId: CheckMovieInWatchlistHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InWatchlist"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    post:
      tags:
        - Watchlist
      summary: Add a movie to the watchlist
      description: |
        This endpoint is used to add a movie to the watchlist of the current user.
      operationId: AddMovieToWatchlistHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    delete:
      tags:
        - Watchlist
      summary: Remove a movie from the watchlist
      description: |
        This endpoint is used to remove a movie from the watchlist of the current user.
      operationId: RemoveMovieFromWatchlistHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watchlist/tv/{id}":
    get:
      tags:
        - Watchlist
      summary: Check if a TV show is in the watchlist
      description: |
        This endpoint is used to check if a TV show is in the watchlist of the current user.
      operationId: CheckTvInWatchlistHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InWatchlist"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    post:
      tags:
        - Watchlist
      summary: Add a TV show to the watchlist
      description: |
        This endpoint is used to add a TV show to the watchlist of the current user.
      operationId: AddTvToWatchlistHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    delete:
      tags:
        - Watchlist
      summary: Remove a TV show from the watchlist
      description: |
        This endpoint is used to remove a TV show from the watchlist of the current user.
      operationId: RemoveTvFromWatchlistHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watched":
    get:
      tags:
        - Watched
      summary: Get the watched list
      description: |
        This endpoint is used to get the watched list of the current user.
      operationId: GetWatchedHandler
      security:
        - main_auth: []
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WatchedResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watched/movies/{id}":
    get:
      tags:
        - Watched
      summary: Check if a movie is in the watched list
      description: |
        This endpoint is used to check if a movie is in the watched list of the current user.
      operationId: CheckMovieInWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InWatched"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    post:
      tags:
        - Watched
      summary: Add a movie to the watched list
      description: |
        This endpoint is used to add a movie to the watched list of the current user.
      operationId: AddMovieToWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    delete:
      tags:
        - Watched
      summary: Remove a movie from the watched list
      description: |
        This endpoint is used to remove a movie from the watched list of the current user.
      operationId: RemoveMovieFromWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The movie id
          schema:
            type: integer
            format: int64
            examples:
              - 278
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watched/tv/{id}":
    get:
      tags:
        - Watched
      summary: Check if a TV show is in the watched list
      description: |
        This endpoint is used to check if a TV show is in the watched list of the current user.
      operationId: CheckTvInWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WatchedTvResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    post:
      tags:
        - Watched
      summary: Add a TV show to the watched list
      description: |
        This endpoint is used to add a TV show to the watched list of the current user.
      operationId: AddTvToWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    delete:
      tags:
        - Watched
      summary: Remove a TV show from the watched list
      description: |
        This endpoint is used to remove a TV show from the watched list of the current user.
      operationId: RemoveTvFromWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error

  "/watched/tv/{id}/season/{season_number}":
    get:
      tags:
        - Watched
      summary: Check if a TV show season episodes are in the watched list
      description: |
        This endpoint is used to check if a TV show season episodes are in the watched list of the current user.
      operationId: CheckTvSeasonInWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
        - name: season_number
          in: path
          required: true
          description: The season number
          schema:
            type: integer
            format: int64
            examples:
              - 1
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WatchedTvSeasonResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    post:
      tags:
        - Watched
      summary: Add a TV show season to the watched list
      description: |
        This endpoint is used to add a TV show season to the watched list of the current user.
      operationId: AddTvSeasonToWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
        - name: season_number
          in: path
          required: true
          description: The season number
          schema:
            type: integer
            format: int64
            examples:
              - 1
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    delete:
      tags:
        - Watched
      summary: Remove a TV show season from the watched list
      description: |
        This endpoint is used to remove a TV show season from the watched list of the current user.
      operationId: RemoveTvSeasonFromWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
        - name: season_number
          in: path
          required: true
          description: The season number
          schema:
            type: integer
            format: int64
            examples:
              - 1
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

  "/watched/tv/{id}/season/{season_number}/episode/{episode_number}":
    get:
      tags:
        - Watched
      summary: Check if a TV show episode is in the watched list
      description: |
        This endpoint is used to check if a TV show episode is in the watched list of the current user.
      operationId: CheckTvEpisodeInWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
        - name: season_number
          in: path
          required: true
          description: The season number
          schema:
            type: integer
            format: int64
            examples:
              - 1
        - name: episode_number
          in: path
          required: true
          description: The episode number
          schema:
            type: integer
            format: int64
            examples:
              - 1
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InWatched"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    post:
      tags:
        - Watched
      summary: Add a TV show episode to the watched list
      description: |
        This endpoint is used to add a TV show episode to the watched list of the current user.
      operationId: AddTvEpisodeToWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
        - name: season_number
          in: path
          required: true
          description: The season number
          schema:
            type: integer
            format: int64
            examples:
              - 1
        - name: episode_number
          in: path
          required: true
          description: The episode number
          schema:
            type: integer
            format: int64
            examples:
              - 1
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
    delete:
      tags:
        - Watched
      summary: Remove a TV show episode from the watched list
      description: |
        This endpoint is used to remove a TV show episode from the watched list of the current user.
      operationId: RemoveTvEpisodeFromWatchedHandler
      security:
        - main_auth: []
      parameters:
        - name: id
          in: path
          required: true
          description: The TV show id
          schema:
            type: integer
            format: int64
            examples:
              - 1399
        - name: season_number
          in: path
          required: true
          description: The season number
          schema:
            type: integer
            format: int64
            examples:
              - 1
        - name: episode_number
          in: path
          required: true
          description: The episode number
          schema:
            type: integer
            format: int64
            examples:
              - 1
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"

components:
  securitySchemes:
    main_auth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    HealthCheck:
      type: object
      required:
        - healthcheck
      properties:
        healthcheck:
          type: object
          required:
            - status
            - systemInfo
          properties:
            status:
              type: string
              examples:
                - "available"
            systemInfo:
              type: object
              required:
                - environment
                - cors_trusted_origins
                - version
              properties:
                environment:
                  type: string
                  examples:
                    - "development"
                cors_trusted_origins:
                  type: array
                  items:
                    type: string
                  examples:
                    - ["http://localhost:3000", "http://localhost:3001"]
                version:
                  type: string
                  examples:
                    - "1.0.0"

    UserResponse:
      type: object
      required:
        - user
      properties:
        user:
          type: object
          $ref: "#/components/schemas/User"

    User:
      type: object
      required:
        - id
        - created_at
        - name
        - email
      properties:
        id:
          description: User id
          type: integer
          format: int64
          examples:
            - 15
        created_at:
          description: User creation date
          type: string
          format: rfc3339
          examples:
            - "2021-10-10T12:00:00Z"
        name:
          description: User supplied name
          type: string
          examples:
            - John Doe
        email:
          description: User supplied email
          type: string
          examples:
            - john.doe@example.com

    CreateUser:
      type: object
      required:
        - name
        - email
        - password
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 500
          examples:
            - John Doe
        email:
          type: string
          examples:
            - john.doe@example.com
        password:
          type: string
          minLength: 8
          maxLength: 72
          examples:
            - "password123"

    AuthenticateUser:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          examples:
            - john.doe@example.com
        password:
          type: string
          examples:
            - "password123"

    AuthenticationToken:
      type: object
      required:
        - authentication_token
      properties:
        authentication_token:
          type: object
          required:
            - token
            - expiry
          properties:
            token:
              type: string
              examples:
                - "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0"
            expiry:
              type: string
              format: rfc3339
              examples:
                - "2021-10-10T12:00:00Z"

    Logout:
      type: object
      required:
        - message
      properties:
        message:
          type: string
          examples:
            - "authentication token(s) successfully deleted"

    SearchMoviesResponse:
      type: object
      required:
        - movies
      properties:
        movies:
          type: array
          items:
            $ref: "#/components/schemas/SearchMovie"

    SearchMovie:
      type: object
      required:
        - id
        - title
        - overview
        - poster_url
        - release_date
        - vote_average
        - popularity
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 278
        title:
          type: string
          examples:
            - "The Shawshank Redemption"
        overview:
          type: string
          examples:
            - "Framed in the 1940s for the double murder of his wife and her lover, upstanding banker Andy Dufresne begins a new life at the Shawshank prison, where he puts his accounting skills to work for an amoral warden. During his long stretch in prison, Dufresne comes to be admired by the other inmates -- including an older prisoner named Red -- for his integrity and unquenchable sense of hope."
        poster_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/9cqNxx0GxF0bflZmeSMuL5tnGzr.jpg"
        release_date:
          type: string
          examples:
            - "1994-09-23"
        vote_average:
          type: number
          format: float
          examples:
            - 8.3
        popularity:
          type: number
          format: float
          examples:
            - 186.654

    SearchTVResponse:
      type: object
      required:
        - tv
      properties:
        tv:
          type: array
          items:
            $ref: "#/components/schemas/SearchTv"

    SearchTv:
      type: object
      required:
        - id
        - title
        - overview
        - poster_url
        - release_date
        - vote_average
        - popularity
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 1399
        title:
          type: string
          examples:
            - "Game of Thrones"
        overview:
          type: string
          examples:
            - "Seven noble families fight for control of the mythical land of Westeros. Friction between the houses leads to full-scale war. All while a very ancient evil awakens in the farthest north. Amidst the war, a neglected military order of misfits, the Night's Watch, is all that stands between the realms of men and icy horrors beyond."
        poster_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/1XS1oqL89opfnbLl8WnZY1O1uJx.jpg"
        release_date:
          type: string
          examples:
            - "2011-04-17"
        vote_average:
          type: number
          format: float
          examples:
            - 8.4
        popularity:
          type: number
          format: float
          examples:
            - 749.726

    SearchPeopleResponse:
      type: object
      required:
        - people
      properties:
        people:
          type: array
          items:
            $ref: "#/components/schemas/SearchPeople"

    SearchPeople:
      type: object
      required:
        - id
        - name
        - profile_url
        - popularity
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 115440
        name:
          type: string
          examples:
            - "Sydney Sweeney"
        profile_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/qYiaSl0Eb7G3VaxOg8PxExCFwon.jpg"
        popularity:
          type: number
          format: float
          examples:
            - 152.351

    MovieDetailsResponse:
      type: object
      required:
        - movie
      properties:
        movie:
          type: object
          $ref: "#/components/schemas/MovieDetails"

    MovieDetails:
      type: object
      required:
        - id
        - title
        - overview
        - release_date
        - genres
        - runtime
        - poster_url
        - popularity
        - vote_average
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 278
        title:
          type: string
          examples:
            - "The Shawshank Redemption"
        overview:
          type: string
          examples:
            - "Framed in the 1940s for the double murder of his wife and her lover, upstanding banker Andy Dufresne begins a new life at the Shawshank prison, where he puts his accounting skills to work for an amoral warden. During his long stretch in prison, Dufresne comes to be admired by the other inmates -- including an older prisoner named Red -- for his integrity and unquenchable sense of hope."
        release_date:
          type: string
          examples:
            - "1994-09-23"
        genres:
          type: array
          items:
            type: string
            examples:
              - Action
        runtime:
          type: integer
          examples:
            - 142
        poster_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/9cqNxx0GxF0bflZmeSMuL5tnGzr.jpg"
        popularity:
          type: number
          format: float
          examples:
            - 186.654
        vote_average:
          type: number
          format: float
          examples:
            - 8.7

    CastMoviesResponse:
      type: object
      required:
        - cast
      properties:
        cast:
          type: array
          items:
            $ref: "#/components/schemas/CastMovies"

    CastMovies:
      type: object
      required:
        - id
        - name
        - character
        - profile_url
        - order
        - popularity
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 6941
        name:
          type: string
          examples:
            - "Cameron Diaz"
        character:
          type: string
          examples:
            - "Princess Fiona (voice)"
        profile_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/d4f4cQ9EiYuvNMjT1IB2h06KoRx.jpg"
        order:
          type: integer
          examples:
            - 2
        popularity:
          type: number
          format: float
          examples:
            - 57.269

    TvDetailsResponse:
      type: object
      required:
        - tv
      properties:
        tv:
          type: object
          $ref: "#/components/schemas/TvDetails"

    TvDetails:
      type: object
      required:
        - id
        - name
        - overview
        - first_air_date
        - last_air_date
        - genres
        - number_of_seasons
        - number_of_episodes
        - seasons
        - poster_url
        - status
        - popularity
        - vote_average
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 1399
        name:
          type: string
          examples:
            - "Game of Thrones"
        overview:
          type: string
          examples:
            - "Seven noble families fight for control of the mythical land of Westeros. Friction between the houses leads to full-scale war. All while a very ancient evil awakens in the farthest north. Amidst the war, a neglected military order of misfits, the Night's Watch, is all that stands between the realms of men and icy horrors beyond."
        first_air_date:
          type: string
          examples:
            - "2011-04-17"
        last_air_date:
          type: string
          examples:
            - "2019-05-19"
        genres:
          type: array
          items:
            type: string
            examples:
              - Action
        number_of_seasons:
          type: integer
          examples:
            - 8
        number_of_episodes:
          type: integer
          examples:
            - 73
        seasons:
          type: array
          items:
            type: object
            $ref: "#/components/schemas/TvSeason"
        poster_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/1XS1oqL89opfnbLl8WnZY1O1uJx.jpg"
        status:
          type: string
          examples:
            - "Ended"
        popularity:
          type: number
          format: float
          examples:
            - 749.726
        vote_average:
          type: number
          format: float
          examples:
            - 8.4

    TvSeason:
      type: object
      required:
        - id
        - name
        - air_date
        - episode_count
        - overview
        - poster_url
        - vote_average
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 3624
        name:
          type: string
          examples:
            - "Season 1"
        air_date:
          type: string
          examples:
            - "2011-04-17"
        episode_count:
          type: integer
          examples:
            - 10
        overview:
          type: string
          examples:
            - "Winter Is Coming"
        poster_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/wgfKiqzuMrFIkU1M68DDDY8kGC1.jpg"
        vote_average:
          type: number
          format: float
          examples:
            - 8.3

    TvSeasonDetailsResponse:
      type: object
      required:
        - season
      properties:
        season:
          type: object
          $ref: "#/components/schemas/TvSeasonDetails"

    TvSeasonDetails:
      type: object
      required:
        - id
        - name
        - air_date
        - overview
        - poster_url
        - episodes
        - vote_average
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 3624
        name:
          type: string
          examples:
            - "Season 1"
        air_date:
          type: string
          examples:
            - "2011-04-17"
        overview:
          type: string
          examples:
            - "Winter Is Coming"
        poster_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/wgfKiqzuMrFIkU1M68DDDY8kGC1.jpg"
        episodes:
          type: array
          items:
            type: object
            $ref: "#/components/schemas/TvEpisode"
        vote_average:
          type: number
          format: float
          examples:
            - 8.3

    TvEpisode:
      type: object
      required:
        - id
        - name
        - air_date
        - runtime
        - episode_type
        - overview
        - still_url
        - vote_average
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 63056
        name:
          type: string
          examples:
            - "Winter Is Coming"
        air_date:
          type: string
          examples:
            - "2011-04-17"
        runtime:
          type: integer
          examples:
            - 62
        episode_type:
          type: string
          examples:
            - "standard"
        overview:
          type: string
          examples:
            - "Jon Arryn, the Hand of the King, is dead. King Robert Baratheon plans to ask his oldest friend, Eddard Stark, to take Jon's place. Across the sea, Viserys Targaryen plans to wed his sister to a nomadic warlord in exchange for an army."
        still_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/9hGF3WUkBf7cSjMg0cdMDHJkByd.jpg"
        vote_average:
          type: number
          format: float
          examples:
            - 8.046

    TvEpisodeDetailsResponse:
      type: object
      required:
        - episode
      properties:
        episode:
          type: object
          $ref: "#/components/schemas/TvEpisodeDetails"

    TvEpisodeDetails:
      type: object
      required:
        - id
        - name
        - air_date
        - runtime
        - episode_type
        - overview
        - still_url
        - vote_average
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 63056
        name:
          type: string
          examples:
            - "Winter Is Coming"
        air_date:
          type: string
          examples:
            - "2011-04-17"
        runtime:
          type: integer
          examples:
            - 62
        overview:
          type: string
          examples:
            - "Jon Arryn, the Hand of the King, is dead. King Robert Baratheon plans to ask his oldest friend, Eddard Stark, to take Jon's place. Across the sea, Viserys Targaryen plans to wed his sister to a nomadic warlord in exchange for an army."
        still_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/9hGF3WUkBf7cSjMg0cdMDHJkByd.jpg"
        vote_average:
          type: number
          format: float
          examples:
            - 8.046

    CastTvResponse:
      type: object
      required:
        - cast
      properties:
        cast:
          type: array
          items:
            $ref: "#/components/schemas/CastTv"

    CastTv:
      type: object
      required:
        - id
        - name
        - roles
        - profile_url
        - order
        - popularity
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 1223786
        name:
          type: string
          examples:
            - "Emilia Clarke"
        roles:
          type: array
          items:
            $ref: "#/components/schemas/Role"
        profile_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/wb8VfDPGpyqcFltnRcJR1Wj3h4Z.jpg"
        order:
          type: integer
          examples:
            - 8
        popularity:
          type: number
          format: float
          examples:
            - 57.269

    Role:
      type: object
      required:
        - character
        - episode_count
      properties:
        character:
          type: string
          examples:
            - "Daenerys Targaryen"
        episode_count:
          type: integer
          examples:
            - 73

    PersonDetailsResponse:
      type: object
      required:
        - person
      properties:
        person:
          type: object
          $ref: "#/components/schemas/PersonDetails"

    PersonDetails:
      type: object
      required:
        - id
        - name
        - biography
        - birthday
        - profile_url
        - popularity
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 115440
        name:
          type: string
          examples:
            - "Sydney Sweeney"
        biography:
          type: string
          examples:
            - "Sydney Bernice Sweeney (born September 12, 1997) is an American actress. She gained mainstream attention for her role as Emaline Addario in the Netflix series Everything Sucks! (2018)."
        birthday:
          type: string
          examples:
            - "1997-09-12"
        profile_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/qYiaSl0Eb7G3VaxOg8PxExCFwon.jpg"
        popularity:
          type: number
          format: float
          examples:
            - 152.351

    WatchProvidersResponse:
      type: object
      required:
        - watch_providers
      properties:
        watch_providers:
          type: object
          $ref: "#/components/schemas/WatchProviders"

    WatchProviders:
      type: object
      required:
        - id
        - flatrate
        - rent
        - buy
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 278
        flatrate:
          type: array
          items:
            $ref: "#/components/schemas/Provider"
        rent:
          type: array
          items:
            $ref: "#/components/schemas/Provider"
        buy:
          type: array
          items:
            $ref: "#/components/schemas/Provider"

    Provider:
      type: object
      required:
        - id
        - name
        - logo_url
        - display_priority
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 8
        name:
          type: string
          examples:
            - "Netflix"
        logo_url:
          type: string
          examples:
            - "https://image.tmdb.org/t/p/w92/9cqNxx0GxF0bflZmeSMuL5tnGzr.jpg"
        display_priority:
          type: integer
          examples:
            - 1

    WatchlistResponse:
      type: object
      required:
        - watchlist
      properties:
        watchlist:
          type: object
          $ref: "#/components/schemas/Watchlist"

    Watchlist:
      type: object
      required:
        - movies
        - tv
      properties:
        movies:
          type: array
          items:
            $ref: "#/components/schemas/SearchMovie"
        tv:
          type: array
          items:
            $ref: "#/components/schemas/SearchTv"

    InWatchlist:
      type: object
      required:
        - in_watchlist
      properties:
        in_watchlist:
          type: boolean
          examples:
            - true

    WatchedResponse:
      type: object
      required:
        - watched
      properties:
        watched:
          type: object
          $ref: "#/components/schemas/Watched"

    Watched:
      type: object
      required:
        - movies
        - tv
      properties:
        movies:
          type: array
          items:
            $ref: "#/components/schemas/SearchMovie"
        tv:
          type: array
          items:
            $ref: "#/components/schemas/SearchTv"

    InWatched:
      type: object
      required:
        - in_watched
      properties:
        in_watched:
          type: boolean
          examples:
            - true

    WatchedTvResponse:
      type: object
      required:
        - watched_tv
      properties:
        watched_tv:
          type: object
          $ref: "#/components/schemas/WatchedTv"

    WatchedTv:
      type: object
      required:
        - id
        - status
        - seasons
        - progress
      properties:
        id:
          type: integer
          format: int64
          examples:
            - 1399
        status:
          type: string
          enum: ["watched", "in_progress", "not_watched"]
        progress:
          type: number
          format: double
          examples:
            - 100
            - 33.33
        seasons:
          type: array
          items:
            $ref: "#/components/schemas/WatchedTvSeason"

    WatchedTvSeasonResponse:
      type: object
      required:
        - watched_season
      properties:
        watched_season:
          type: object
          $ref: "#/components/schemas/WatchedTvSeason"

    WatchedTvSeason:
      type: object
      required:
        - season_number
        - status
        - episodes
      properties:
        season_number:
          type: integer
          examples:
            - 1
        status:
          type: string
          enum: ["watched", "in_progress", "not_watched"]
        episodes:
          type: array
          items:
            type: integer
            examples:
              - 1
              - 2
              - 3

    Message:
      type: object
      required:
        - message
      properties:
        message:
          type: string
          examples:
            - "Internal server error"
            - "Bad request"
            - "Unauthorized"
            - "Forbidden"
            - "Not found"
            - "Movie added to watchlist"
            - "Movie removed from watchlist"
            - "TV show added to watchlist"
            - "TV show removed from watchlist"
            - "TV show season added to watchlist"
            - "TV show season removed from watchlist"
            - "TV show episode added to watchlist"
            - "TV show episode removed from watchlist"
